!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],t):"object"==typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=t():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=t.GenericL10n=t.ProgressBar=t.DownloadManager=t.EventBus=t.PDFFindController=t.PDFHistory=t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=t.DefaultTextLayerFactory=t.TextLayerBuilder=t.SimpleLinkService=t.PDFLinkService=t.PDFPageView=t.PDFSinglePageViewer=t.PDFViewer=void 0;var i=n(1),r=n(10),a=n(3),o=n(8),s=n(11),u=n(12),l=n(14),c=n(16),h=n(17),d=n(20),f=n(22);t.PDFViewer=f.PDFViewer,t.PDFSinglePageViewer=d.PDFSinglePageViewer,t.PDFPageView=h.PDFPageView,t.PDFLinkService=o.PDFLinkService,t.SimpleLinkService=o.SimpleLinkService,t.TextLayerBuilder=r.TextLayerBuilder,t.DefaultTextLayerFactory=r.DefaultTextLayerFactory,t.AnnotationLayerBuilder=i.AnnotationLayerBuilder,t.DefaultAnnotationLayerFactory=i.DefaultAnnotationLayerFactory,t.PDFHistory=c.PDFHistory,t.PDFFindController=l.PDFFindController,t.EventBus=a.EventBus,t.DownloadManager=s.DownloadManager,t.ProgressBar=a.ProgressBar,t.GenericL10n=u.GenericL10n,t.NullL10n=a.NullL10n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),o=n(3),s=n(8),u=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,a=t.linkService,s=t.downloadManager,u=t.imageResourcesPath,l=void 0===u?"":u,c=t.renderInteractiveForms,h=void 0!==c&&c,d=t.l10n,f=void 0===d?o.NullL10n:d;i(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=a,this.downloadManager=s,this.imageResourcesPath=l,this.renderInteractiveForms=h,this.l10n=f,this.div=null,this._cancelled=!1}return r(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:n}).then(function(n){if(!t._cancelled){var i={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:n,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div)a.AnnotationLayer.update(i);else{if(0===n.length)return;t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),i.div=t.div,a.AnnotationLayer.render(i),t.l10n.translate(t.div)}}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),e}(),l=function(){function e(){i(this,e)}return r(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.NullL10n;return new u({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:i,linkService:new s.SimpleLinkService,l10n:r})}}]),e}();t.AnnotationLayerBuilder=u,t.DefaultAnnotationLayerFactory=l},function(e,t,n){"use strict";var i=void 0;i="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("build/pdf.html"),e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}return i("next")})}}function a(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,n){return n in t?t[n]:"{{"+n+"}}"}):e}function o(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=t/n;return{sx:i,sy:i,scaled:1!==i}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.offsetParent;if(!i)return void console.error("offsetParent is not set -- cannot scroll");for(var r=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow;)if(i.dataset._scaleY&&(r/=i.dataset._scaleY,a/=i.dataset._scaleX),r+=i.offsetTop,a+=i.offsetLeft,!(i=i.offsetParent))return;t&&(void 0!==t.top&&(r+=t.top),void 0!==t.left&&(a+=t.left,i.scrollLeft=a)),i.scrollTop=r}function u(e,t){var n=function(n){r||(r=window.requestAnimationFrame(function(){r=null;var n=e.scrollLeft,a=i.lastX;n!==a&&(i.right=n>a),i.lastX=n;var o=e.scrollTop,s=i.lastY;o!==s&&(i.down=o>s),i.lastY=o,t(i)}))},i={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},r=null;return e.addEventListener("scroll",n,!0),i}function l(e){for(var t=e.split("&"),n=Object.create(null),i=0,r=t.length;i<r;++i){var a=t[i].split("="),o=a[0].toLowerCase(),s=a.length>1?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n}function c(e,t){var n=0,i=e.length-1;if(0===e.length||!t(e[i]))return e.length;if(t(e[n]))return n;for(;n<i;){var r=n+i>>1;t(e[r])?i=r:n=r+1}return n}function h(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,i=0,r=1,a=1,o=1;;){var s=i+a,u=r+o;if(u>8)break;n<=s/u?(a=s,o=u):(i=s,r=u)}return n-i/r<a/o-n?n===e?[i,r]:[r,i]:n===e?[a,o]:[o,a]}function d(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)}function f(e){var t=e.view,n=e.userUnit,i=e.rotate,r=T(t,4),a=r[0],o=r[1],s=r[2],u=r[3],l=i%180!=0,c=(s-a)/72*n,h=(u-o)/72*n;return{width:l?h:c,height:l?c:h}}function p(e,t,n){if(e<2)return e;var i=t[e].div,r=i.offsetTop+i.clientTop;r>=n&&(i=t[e-1].div,r=i.offsetTop+i.clientTop);for(var a=e-2;a>=0&&(i=t[a].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--a)e=a;return e}function v(e,t){function n(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>o}function i(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>u}var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.scrollTop,s=o+e.clientHeight,u=e.scrollLeft,l=u+e.clientWidth,h=[],d=void 0,f=void 0,v=void 0,g=void 0,m=void 0,y=void 0,_=void 0,w=void 0,b=void 0,P=void 0,S=void 0,x=0===t.length?0:c(t,a?i:n);t.length>0&&!a&&(x=p(x,t,o));for(var L=a?l:-1,k=x,E=t.length;k<E;k++){if(d=t[k],f=d.div,_=f.offsetLeft+f.clientLeft,v=f.offsetTop+f.clientTop,w=f.clientWidth,g=f.clientHeight,b=_+w,m=v+g,-1===L)m>=s&&(L=m);else if((a?_:v)>L)break;m<=o||v>=s||b<=u||_>=l||(y=Math.max(0,o-v)+Math.max(0,m-s),P=Math.max(0,u-_)+Math.max(0,b-l),S=(g-y)*(w-P)*100/g/w|0,h.push({id:d.id,x:_,y:v,view:d,percent:S}))}var C=h[0],T=h[h.length-1];return r&&h.sort(function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}),{first:C,last:T,views:h}}function g(e){e.preventDefault()}function m(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(m(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(e),a=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch(e){}return a||t}function _(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);return 0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t}function w(e){return Number.isInteger(e)&&e%90==0}function b(e){return e.width<=e.height}function P(e){var t=e.target,n=e.name,i=e.delay,r=void 0===i?0:i;return new Promise(function(e,i){function a(i){t instanceof R?t.off(n,o):t.removeEventListener(n,o),u&&clearTimeout(u),e(i)}if("object"!==(void 0===t?"undefined":C(t))||!n||"string"!=typeof n||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");var o=a.bind(null,A.EVENT);t instanceof R?t.on(n,o):t.addEventListener(n,o);var s=a.bind(null,A.TIMEOUT),u=setTimeout(s,r)})}function S(e,t,n){return Math.min(Math.max(e,t),n)}function x(e,t){for(var n=[],i=e.length,r=0,a=0;a<i;++a)t(e[a])?n.push(e[a]):(e[r]=e[a],++r);for(var o=0;r<i;++o,++r)e[r]=n[o]}Object.defineProperty(t,"__esModule",{value:!0}),t.moveToEndOfArray=t.waitOnEventOrTimeout=t.WaitOnType=t.animationStarted=t.normalizeWheelEventDelta=t.binarySearchFirstItem=t.watchScroll=t.scrollIntoView=t.getOutputScale=t.approximateFraction=t.getPageSizeInches=t.roundToDivide=t.getVisibleElements=t.backtrackBeforeAllVisibleElements=t.parseQueryString=t.noContextMenuHandler=t.getPDFFileNameFromURL=t.ProgressBar=t.EventBus=t.NullL10n=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.isPortraitOrientation=t.isValidRotation=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=void 0;var L=n(4),k=function(e){return e&&e.__esModule?e:{default:e}}(L),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(){function e(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},N={CANVAS:"canvas",SVG:"svg"},M={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2},D={getLanguage:function(){function e(){return t.apply(this,arguments)}var t=r(k.default.mark(function e(){return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}},e,this)}));return e}(),getDirection:function(){function e(){return t.apply(this,arguments)}var t=r(k.default.mark(function e(){return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}},e,this)}));return e}(),get:function(){function e(e,n,i){return t.apply(this,arguments)}var t=r(k.default.mark(function e(t,n,i){return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(i,n));case 1:case"end":return e.stop()}},e,this)}));return e}(),translate:function(){function e(e){return t.apply(this,arguments)}var t=r(k.default.mark(function e(t){return k.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},A={EVENT:"event",TIMEOUT:"timeout"},O=new Promise(function(e){window.requestAnimationFrame(e)}),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dispatchToDOM,r=void 0!==n&&n;i(this,e),this._listeners=Object.create(null),this._dispatchToDOM=!0===r}return E(e,[{key:"on",value:function(e,t){var n=this._listeners[e];n||(n=[],this._listeners[e]=n),n.push(t)}},{key:"off",value:function(e,t){var n=this._listeners[e],i=void 0;!n||(i=n.indexOf(t))<0||n.splice(i,1)}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n=Array.prototype.slice.call(arguments,1);t.slice(0).forEach(function(e){e.apply(null,n)}),this._dispatchToDOM&&this._dispatchDOMEvent(e,n)}else if(this._dispatchToDOM){var i=Array.prototype.slice.call(arguments,1);this._dispatchDOMEvent(e,i)}}},{key:"_dispatchDOMEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._dispatchToDOM){var n=Object.create(null);if(t&&t.length>0){var i=t[0];for(var r in i){var a=i[r];if("source"!==r)n[r]=a;else if(a===window||a===document)return}}var o=document.createEvent("CustomEvent");o.initCustomEvent(e,!0,!0,n),document.dispatchEvent(o)}}}]),e}(),V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,a=n.width,o=n.units;i(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=a||100,this.units=o||"%",this.div.style.height=this.height+this.units,this.percent=0}return E(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode,n=t.offsetWidth-e.offsetWidth;n>0&&this.bar.setAttribute("style","width: calc(100% - "+n+"px);")}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=S(e,0,100),this._updateBar()}}]),e}();t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.isValidRotation=w,t.isPortraitOrientation=b,t.PresentationModeState=I,t.RendererType=N,t.TextLayerMode=M,t.NullL10n=D,t.EventBus=R,t.ProgressBar=V,t.getPDFFileNameFromURL=y,t.noContextMenuHandler=g,t.parseQueryString=l,t.backtrackBeforeAllVisibleElements=p,t.getVisibleElements=v,t.roundToDivide=d,t.getPageSizeInches=f,t.approximateFraction=h,t.getOutputScale=o,t.scrollIntoView=s,t.watchScroll=u,t.binarySearchFirstItem=c,t.normalizeWheelEventDelta=_,t.animationStarted=O,t.WaitOnType=A,t.waitOnEventOrTimeout=P,t.moveToEndOfArray=x},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,a=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(6),r)i.regeneratorRuntime=a;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){function i(e,t,n,i){var r=t&&t.prototype instanceof a?t:a,o=Object.create(r.prototype),s=new p(i||[]);return o._invoke=c(e,n,s),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function o(){}function s(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(i,a,o,s){var u=r(e[i],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===(void 0===c?"undefined":t(c))&&_.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},s)}s(u.arg)}function i(e,t){function i(){return new Promise(function(i,r){n(e,t,i,r)})}return a=a?a.then(i,i):i()}var a;this._invoke=i}function c(e,t,n){var i=k;return function(a,o){if(i===C)throw new Error("Generator is already running");if(i===T){if("throw"===a)throw o;return g()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=h(s,n);if(u){if(u===I)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===k)throw i=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?T:E,l.arg===I)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=T,n.method="throw",n.arg=l.arg)}}}function h(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,h(e,t),"throw"===t.method))return I;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,I;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,I):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function v(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(_.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return i.next=i}}return{next:g}}function g(){return{value:m,done:!0}}var m,y=Object.prototype,_=y.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},b=w.iterator||"@@iterator",P=w.asyncIterator||"@@asyncIterator",S=w.toStringTag||"@@toStringTag",x="object"===t(e),L=n.regeneratorRuntime;if(L)return void(x&&(e.exports=L));L=n.regeneratorRuntime=x?e.exports:{},L.wrap=i;var k="suspendedStart",E="suspendedYield",C="executing",T="completed",I={},N={};N[b]=function(){return this};var M=Object.getPrototypeOf,D=M&&M(M(v([])));D&&D!==y&&_.call(D,b)&&(N=D);var A=s.prototype=a.prototype=Object.create(N);o.prototype=A.constructor=s,s.constructor=o,s[S]=o.displayName="GeneratorFunction",L.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},L.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,S in e||(e[S]="GeneratorFunction")),e.prototype=Object.create(A),e},L.awrap=function(e){return{__await:e}},u(l.prototype),l.prototype[P]=function(){return this},L.AsyncIterator=l,L.async=function(e,t,n,r){var a=new l(i(e,t,n,r));return L.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},u(A),A[S]="Generator",A[b]=function(){return this},A.toString=function(){return"[object Generator]"},L.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},L.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return a.type="throw",a.arg=e,n.next=t,i&&(n.method="next",n.arg=m),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=_.call(r,"catchLoc"),s=_.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&_.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,I):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),I}}}(function(){return this}()||Function("return this")())}).call(this,n(7)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(!Array.isArray(e))return!1;var t=e.length,n=!0;if(t<2)return!1;var i=e[0];if(!("object"===(void 0===i?"undefined":a(i))&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&i>=0))return!1;var r=e[1];if("object"!==(void 0===r?"undefined":a(r))||"string"!=typeof r.name)return!1;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;n=!1;break;default:return!1}for(var o=2;o<t;o++){var s=e[o];if(!("number"==typeof s||n&&null===s))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(9),u=n(3),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,a=void 0===r?null:r,o=t.externalLinkRel,u=void 0===o?null:o;i(this,e),this.eventBus=n||(0,s.getGlobalEventBus)(),this.externalLinkTarget=a,this.externalLinkRel=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return o(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this,n=function n(i){var r=i.namedDest,a=i.explicitDest,o=a[0],s=void 0;if(o instanceof Object){if(null===(s=t._cachedPageNumber(o)))return void t.pdfDocument.getPageIndex(o).then(function(e){t.cachePageRef(e+1,o),n({namedDest:r,explicitDest:a})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+o+'" is not a valid page reference, for dest="'+e+'".')})}else{if(!Number.isInteger(o))return void console.error('PDFLinkService.navigateTo: "'+o+'" is not a valid destination reference, for dest="'+e+'".');s=o+1}if(!s||s<1||s>t.pagesCount)return void console.error('PDFLinkService.navigateTo: "'+s+'" is not a valid page number, for dest="'+e+'".');t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:r,explicitDest:a,pageNumber:s})),t.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:a})};new Promise(function(n,i){if("string"==typeof e)return void t.pdfDocument.getDestination(e).then(function(t){n({namedDest:e,explicitDest:t})});n({namedDest:"",explicitDest:e})}).then(function(t){if(!Array.isArray(t.explicitDest))return void console.error('PDFLinkService.navigateTo: "'+t.explicitDest+'" is not a valid destination array, for dest="'+e+'".');n(t)})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t=void 0,n=void 0;if(e.includes("=")){var i=(0,u.parseQueryString)(e);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"nameddest"in i)return void this.navigateTo(i.nameddest);if("page"in i&&(t=0|i.page||1),"zoom"in i){var a=i.zoom.split(","),o=a[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},a.length>1?0|a[1]:null]:"FitR"===o?5!==a.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|a[1],0|a[2],0|a[3],0|a[4]]:console.error('PDFLinkService.setHash: "'+o+'" is not a valid zoom value.'):n=[null,{name:"XYZ"},a.length>1?0|a[1]:null,a.length>2?0|a[2]:null,s?s/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode})}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||r(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'+unescape(e)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=t.num+" "+t.gen+" R";this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=e.num+" "+e.gen+" R";return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}(),c=function(){function e(){i(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return o(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}();t.PDFLinkService=l,t.SimpleLinkService=c},function(e,t,n){"use strict";function i(e){e.on("documentload",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),e.on("pagerendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.pageNumber,cssTransform:e.cssTransform}),e.source.div.dispatchEvent(t)}),e.on("textlayerrendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e.pageNumber}),e.source.textLayerDiv.dispatchEvent(t)}),e.on("pagechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("pagechange",!0,!0,window,0),t.pageNumber=e.pageNumber,e.source.container.dispatchEvent(t)}),e.on("pagesinit",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.source.container.dispatchEvent(t)}),e.on("pagesloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e.pagesCount}),e.source.container.dispatchEvent(t)}),e.on("scalechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scalechange",!0,!0,window,0),t.scale=e.scale,t.presetValue=e.presetValue,e.source.container.dispatchEvent(t)}),e.on("updateviewarea",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("updateviewarea",!0,!0,window,0),t.location=e.location,e.source.container.dispatchEvent(t)}),e.on("find",function(e){if(e.source!==window){var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,!0,!0,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious}),window.dispatchEvent(t)}}),e.on("attachmentsloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e.attachmentsCount}),e.source.container.dispatchEvent(t)}),e.on("sidebarviewchanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:e.view}),e.source.outerContainer.dispatchEvent(t)}),e.on("pagemode",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:e.mode}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("namedaction",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:e.action}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("presentationmodechanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{
active:e.active,switchInProgress:e.switchInProgress}),window.dispatchEvent(t)}),e.on("outlineloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e.outlineCount}),e.source.container.dispatchEvent(t)})}function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o||(o=new a.EventBus({dispatchToDOM:e}),e||i(o)),o}Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalEventBus=t.attachDOMEventsToEventBus=void 0;var a=n(3),o=null;t.attachDOMEventsToEventBus=i,t.getGlobalEventBus=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(9),o=n(2),s=n(3),u=function(){function e(t){var n=t.textLayerDiv,r=t.eventBus,o=t.pageIndex,s=t.viewport,u=t.findController,l=void 0===u?null:u,c=t.enhanceTextSelection,h=void 0!==c&&c;i(this,e),this.textLayerDiv=n,this.eventBus=r||(0,a.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=o,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=s,this.textDivs=[],this.findController=l,this.textLayerRenderTask=null,this.enhanceTextSelection=h,this._boundEvents=Object.create(null),this._bindEvents(),this._bindMouse()}return r(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,o.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e.updateMatches()},function(e){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"convertMatches",value:function(e,t){var n=0,i=0,r=this.textContentItemsStr,a=r.length-1,o=null===this.findController?0:this.findController.state.query.length,s=[];if(!e)return s;for(var u=0,l=e.length;u<l;u++){for(var c=e[u];n!==a&&c>=i+r[n].length;)i+=r[n].length,n++;n===r.length&&console.error("Could not find a matching mapping");var h={begin:{divIdx:n,offset:c-i}};for(c+=t?t[u]:o;n!==a&&c>i+r[n].length;)i+=r[n].length,n++;h.end={divIdx:n,offset:c-i},s.push(h)}return s}},{key:"renderMatches",value:function(e){function t(e,t){var i=e.divIdx;r[i].textContent="",n(i,0,e.offset,t)}function n(e,t,n,a){var o=r[e],s=i[e].substring(t,n),u=document.createTextNode(s);if(a){var l=document.createElement("span");return l.className=a,l.appendChild(u),void o.appendChild(l)}o.appendChild(u)}if(0!==e.length){var i=this.textContentItemsStr,r=this.textDivs,a=null,o=this.pageIdx,u=null!==this.findController&&o===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,c=null!==this.findController&&this.findController.state.highlightAll,h={divIdx:-1,offset:void 0},d=l,f=d+1;if(c)d=0,f=e.length;else if(!u)return;for(var p=d;p<f;p++){var v=e[p],g=v.begin,m=v.end,y=u&&p===l,_=y?" selected":"";if(this.findController&&this.findController.selected.matchIdx===p&&this.findController.selected.pageIdx===o){var w={top:-50,left:-400};(0,s.scrollIntoView)(r[g.divIdx],w,!0)}if(a&&g.divIdx===a.divIdx?n(a.divIdx,a.offset,g.offset):(null!==a&&n(a.divIdx,a.offset,h.offset),t(g)),g.divIdx===m.divIdx)n(g.divIdx,g.offset,m.offset,"highlight"+_);else{n(g.divIdx,g.offset,h.offset,"highlight begin"+_);for(var b=g.divIdx+1,P=m.divIdx;b<P;b++)r[b].className="highlight middle"+_;t(m,"highlight end"+_)}a=m}a&&n(a.divIdx,a.offset,h.offset)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var e=this.matches,t=this.textDivs,n=this.textContentItemsStr,i=-1,r=0,a=e.length;r<a;r++){for(var o=e[r],s=Math.max(i,o.begin.divIdx),u=s,l=o.end.divIdx;u<=l;u++){var c=t[u];c.textContent=n[u],c.className=""}i=o.end.divIdx+1}if(this.findController&&this.findController.highlightMatches){var h=void 0,d=void 0;null!==this.findController&&(h=this.findController.pageMatches[this.pageIdx]||null,d=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(h,d),this.renderMatches(this.matches)}}}},{key:"_bindEvents",value:function(){var e=this,t=this.eventBus,n=this._boundEvents;n.pageCancelled=function(i){if(i.pageNumber===e.pageNumber){if(e.textLayerRenderTask)return void console.error("TextLayerBuilder._bindEvents: `this.cancel()` should have been called when the page was reset, or rendering cancelled.");for(var r in n)t.off(r.toLowerCase(),n[r]),delete n[r]}},n.updateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e.updateMatches()},t.on("pagecancelled",n.pageCancelled),t.on("updatetextlayermatches",n.updateTextLayerMatches)}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",function(i){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var r=t.querySelector(".endOfContent");if(r){var a=i.target!==t;if(a=a&&"none"!==window.getComputedStyle(r).getPropertyValue("-moz-user-select")){var o=t.getBoundingClientRect(),s=Math.max(0,(i.pageY-o.top)/o.height);r.style.top=(100*s).toFixed(2)+"%"}r.classList.add("active")}}),t.addEventListener("mouseup",function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)return void(n=setTimeout(function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null},300));var i=t.querySelector(".endOfContent");i&&(i.style.top="",i.classList.remove("active"))})}}]),e}(),l=function(){function e(){i(this,e)}return r(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new u({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:i})}}]),e}();t.TextLayerBuilder=u,t.DefaultTextLayerFactory=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),s=o.apiCompatibilityParams.disableCreateObjectURL||!1,u=function(){function e(t){var n=t.disableCreateObjectURL,r=void 0===n?s:n;i(this,e),this.disableCreateObjectURL=r}return a(e,[{key:"downloadUrl",value:function(e,t){(0,o.createValidAbsoluteUrl)(e,"http://example.com/")&&r(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:n}),t);r((0,o.createObjectURL)(e,n,this.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){return navigator.msSaveBlob?void(navigator.msSaveBlob(e,n)||this.downloadUrl(t,n)):this.disableCreateObjectURL?void this.downloadUrl(t,n):void r(o.URL.createObjectURL(e),n)}}]),e}();t.DownloadManager=u},function(e,t,n){"use strict";function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,a){try{var o=t[r](a),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}return i("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var a=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(13);var u=document.webL10n,l=function(){function e(t){r(this,e),this._lang=t,this._ready=new Promise(function(e,n){u.setLanguage(t,function(){e(u)})})}return s(e,[{key:"getLanguage",value:function(){function e(){return t.apply(this,arguments)}var t=i(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getLanguage());case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getDirection",value:function(){function e(){return t.apply(this,arguments)}var t=i(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getDirection());case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"get",value:function(){function e(e,n,i){return t.apply(this,arguments)}var t=i(o.default.mark(function e(t,n,i){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return r=e.sent,e.abrupt("return",r.get(t,n,i));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"translate",value:function(){function e(e){return t.apply(this,arguments)}var t=i(o.default.mark(function e(t){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return n=e.sent,e.abrupt("return",n.translate(t));case 4:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.GenericL10n=l},function(e,t,n){"use strict";document.webL10n=function(e,t,n){function i(){return t.querySelectorAll('link[type="application/l10n"]')}function r(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function a(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function o(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:i}}function s(e){var n=t.createEvent("Event");n.initEvent("localized",!0,!1),n.language=e,t.dispatchEvent(n)}function u(e,t,n){t=t||function(e){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",e,L),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?t(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(e){n()}}function l(e,t,n,i){function r(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function a(e,n){function i(e,n,i){function u(){for(;;){if(!p.length)return void i();var e=p.shift();if(!c.test(e)){if(n){if(y=h.exec(e)){v=y[1].toLowerCase(),m="*"!==v&&v!==t&&v!==g;continue}if(m)continue;if(y=d.exec(e))return void a(o+y[1],u)}var l=e.match(f);l&&3==l.length&&(s[l[1]]=r(l[2]))}}}var p=e.replace(l,"").split(/[\r\n]+/),v="*",g=t.split("-",1)[0],m=!1,y="";u()}function a(e,t){u(e,function(e){i(e,!1,t)},function(){console.warn(e+" not found."),t()})}var s={},l=/^\s*|\s*$/,c=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,d=/^\s*@import\s+url\((.*)\)\s*$/i,f=/^([^=\s]*)\s*=\s*(.+)$/;i(e,!0,function(){n(s)})}var o=e.replace(/[^\/]*$/,"")||"./";u(e,function(e){w+=e,a(e,function(e){for(var t in e){var i,r,a=t.lastIndexOf(".");a>0?(i=t.substring(0,a),r=t.substring(a+1)):(i=t,r=b),_[i]||(_[i]={}),_[i][r]=e[t]}n&&n()})},i)}function c(e,t){function n(e){var t=e.href;this.load=function(e,n){l(t,e,n,function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),P="",n()})}}e&&(e=e.toLowerCase()),t=t||function(){},h(),P=e;var a=i(),o=a.length;if(0===o){var u=r();if(u&&u.locales&&u.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(_=u.locales[e])){var c=u.default_locale.toLowerCase();for(var d in u.locales){if((d=d.toLowerCase())===e){_=u.locales[e];break}d===c&&(_=u.locales[c])}}t()}else console.log("no resource to load, early way out");return s(e),void(x="complete")}var f=null,p=0;f=function(){++p>=o&&(t(),s(e),x="complete")};for(var v=0;v<o;v++){new n(a[v]).load(e,f)}}function h(){_={},w="",P=""}function d(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3},r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},a=i[e.replace(/-.*$/,"")];return a in r?r[a]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function f(e,t,n){var i=_[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var r={};for(var a in i){var o=i[a];o=p(o,t,e,a),o=v(o,t,e),r[a]=o}return r}function p(e,t,n,i){var r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,a=r.exec(e);if(!a||!a.length)return e;var o,s=a[1],u=a[2];if(t&&u in t?o=t[u]:u in _&&(o=_[u]),s in S){e=(0,S[s])(e,o,n,i)}return e}function v(e,t,n){var i=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(i,function(e,i){return t&&i in t?t[i]:i in _?_[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),e)})}function g(e){var n=o(e);if(n.id){var i=f(n.id,n.args);if(!i)return void console.warn("#"+n.id+" is undefined.");if(i[b]){if(0===m(e))e[b]=i[b];else{for(var r=e.childNodes,a=!1,s=0,u=r.length;s<u;s++)3===r[s].nodeType&&/\S/.test(r[s].nodeValue)&&(a?r[s].nodeValue="":(r[s].nodeValue=i[b],a=!0));if(!a){var l=t.createTextNode(i[b]);e.insertBefore(l,e.firstChild)}}delete i[b]}for(var c in i)e[c]=i[c]}}function m(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}function y(e){e=e||t.documentElement;for(var n=a(e),i=n.length,r=0;r<i;r++)g(n[r]);g(e)}var _={},w="",b="textContent",P="",S={},x="loading",L=!0;return S.plural=function(e,t,n,i){var r=parseFloat(t);if(isNaN(r))return e;if(i!=b)return e;S._pluralRules||(S._pluralRules=d(P));var a="["+S._pluralRules(r)+"]";return 0===r&&n+"[zero]"in _?e=_[n+"[zero]"][i]:1==r&&n+"[one]"in _?e=_[n+"[one]"][i]:2==r&&n+"[two]"in _?e=_[n+"[two]"][i]:n+a in _?e=_[n+a][i]:n+"[other]"in _&&(e=_[n+"[other]"][i]),e},{get:function(e,t,n){var i=e.lastIndexOf("."),r=b;i>0&&(r=e.substring(i+1),e=e.substring(0,i));var a;n&&(a={},a[r]=n);var o=f(e,t,a);return o&&r in o?o[r]:"{{"+e+"}}"},getData:function(){return _},getText:function(){return w},getLanguage:function(){return P},setLanguage:function(e,t){c(e,function(){t&&t()})},getDirection:function(){var e=["ar","he","fa","ps","ur"],t=P.split("-",1)[0];return e.indexOf(t)>=0?"rtl":"ltr"},translate:y,getReadyState:function(){return x},ready:function(n){n&&("complete"==x||"interactive"==x?e.setTimeout(function(){n()}):t.addEventListener&&t.addEventListener("localized",function e(){t.removeEventListener("localized",e),n()}))}}}(window,document)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),o=n(15),s=n(9),u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},l={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},c=function(){function e(t){var n=t.linkService,r=t.eventBus,a=void 0===r?(0,s.getGlobalEventBus)():r;i(this,e),this._linkService=n,this._eventBus=a,this._reset(),a.on("findbarclose",this._onFindBarClose.bind(this));var o=Object.keys(l).join("");this._normalizationRegex=new RegExp("["+o+"]","g")}return r(e,[{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this,i=this._pdfDocument;null!==this._state&&"findagain"===e||(this._dirtyMatch=!0),this._state=t,this._updateUIState(u.PENDING),this._firstPageCapability.promise.then(function(){!n._pdfDocument||i&&n._pdfDocument!==i||(n._extractText(),n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout(function(){n._nextMatch(),n._findTimeout=null},250):n._nextMatch())})}},{key:"_reset",value:function(){this._highlightMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=null,this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,a.createPromiseCapability)()}},{key:"_normalize",value:function(e){return e.replace(this._normalizationRegex,function(e){return l[e]})}},{key:"_prepareMatches",value:function(e,t,n){e.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var i=0,r=e.length;i<r;i++)(function(e,t){var n=e[t],i=e[t+1];if(t<e.length-1&&n.match===i.match)return n.skipped=!0,!0;for(var r=t-1;r>=0;r--){var a=e[r];if(!a.skipped){if(a.match+a.matchLength<n.match)break;if(a.match+a.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1})(e,i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var i=e.charCodeAt(t),r=e.charCodeAt(t-1);if((0,o.getCharacterType)(i)===(0,o.getCharacterType)(r))return!1}var a=t+n-1;if(a<e.length-1){var s=e.charCodeAt(a),u=e.charCodeAt(a+1);if((0,o.getCharacterType)(s)===(0,o.getCharacterType)(u))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,i){for(var r=[],a=e.length,o=-a;;){if(-1===(o=n.indexOf(e,o+a)))break;i&&!this._isEntireWord(n,o,a)||r.push(o)}this._pageMatches[t]=r}},{key:"_calculateWordMatch",value:function(e,t,n,i){for(var r=[],a=e.match(/\S+/g),o=0,s=a.length;o<s;o++)for(var u=a[o],l=u.length,c=-l;;){if(-1===(c=n.indexOf(u,c+l)))break;i&&!this._isEntireWord(n,c,l)||r.push({match:c,matchLength:l,skipped:!1})}this._pageMatchesLength||(this._pageMatchesLength=[]),this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(r,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._normalize(this._pageContents[e]),n=this._normalize(this._state.query),i=this._state,r=i.caseSensitive,a=i.entireWord,o=i.phraseSearch;if(0!==n.length){r||(t=t.toLowerCase(),n=n.toLowerCase()),o?this._calculatePhraseMatch(n,e,t,a):this._calculateWordMatch(n,e,t,a),this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=0,i=this._linkService.pagesCount;n<i;n++)!function(n,i){var r=(0,a.createPromiseCapability)();e._extractTextPromises[n]=r.promise,t=t.then(function(){return e._pdfDocument.getPage(n+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})}).then(function(t){for(var i=t.items,a=[],o=0,s=i.length;o<s;o++)a.push(i[o].str);e._pageContents[n]=a.join(""),r.resolve(n)},function(t){console.error("Unable to get text content for page "+(n+1),t),e._pageContents[n]="",r.resolve(n)})})}(n)}},{key:"_updatePage",value:function(e){this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength=null,this._matchesCountTotal=0;for(var r=0;r<i;r++)this._updatePage(r),r in this._pendingFindMatches||(this._pendingFindMatches[r]=!0,this._extractTextPromises[r].then(function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)}))}if(""===this._state.query)return void this._updateUIState(u.FOUND);if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=i,null!==a.matchIdx){var o=this._pageMatches[a.pageIdx].length;if(!t&&a.matchIdx+1<o||t&&a.matchIdx>0)return a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,i=this._state.findPrevious;return n?(t.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?u.WRAPPED:u.FOUND,-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&this._updatePage(this._selected.pageIdx)}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then(function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null,t._updateUIState(u.FOUND)),t._highlightMatches=!1,t._eventBus.dispatch("updatetextlayermatches",{source:t,pageIndex:-1}))})}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,i=0,r=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++)i+=this._pageMatches[a]&&this._pageMatches[a].length||0;i+=n+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}}]),e}();t.FindState=u,t.PDFFindController=c},function(e,t,n){"use strict";function i(e){return e<11904}function r(e){return 0==(65408&e)}function a(e){return e>=97&&e<=122||e>=65&&e<=90}function o(e){return e>=48&&e<=57}function s(e){return 32===e||9===e||13===e||10===e}function u(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}function l(e){return e>=12448&&e<=12543}function c(e){return e>=12352&&e<=12447}function h(e){return e>=65376&&e<=65439}function d(e){return 3584==(65408&e)}function f(e){return i(e)?r(e)?s(e)?p.SPACE:a(e)||o(e)||95===e?p.ALPHA_LETTER:p.PUNCT:d(e)?p.THAI_LETTER:160===e?p.SPACE:p.ALPHA_LETTER:u(e)?p.HAN_LETTER:l(e)?p.KATAKANA_LETTER:c(e)?p.HIRAGANA_LETTER:h(e)?p.HALFWIDTH_KATAKANA_LETTER:p.ALPHA_LETTER}Object.defineProperty(t,"__esModule",{value:!0});var p={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=p,t.getCharacterType=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return document.location.hash}function a(e){var t=unescape(r()).substring(1),n=(0,c.parseQueryString)(t),i=0|n.page;return Number.isInteger(i)&&i>0&&i<=e.pagesCount||(i=null),{hash:t,page:i,rotation:e.rotation}}function o(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,c.parseQueryString)(e).nameddest===t)}function s(e,t){function n(e,t){if((void 0===e?"undefined":u(e))!==(void 0===t?"undefined":u(t)))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===(void 0===e?"undefined":u(e))&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(!n(e[i],t[i]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var i=0,r=e.length;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.isDestArraysEqual=t.isDestHashesEqual=t.PDFHistory=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(3),h=n(9),d=function(){function e(t){var n=this,r=t.linkService,a=t.eventBus;i(this,e),this.linkService=r,this.eventBus=a||(0,h.getGlobalEventBus)(),this.initialized=!1,this.initialBookmark=null,this.initialRotation=null,this._boundEvents=Object.create(null),this._isViewerInPresentationMode=!1,this._isPagesLoaded=!1,this.eventBus.on("presentationmodechanged",function(e){n._isViewerInPresentationMode=e.active||e.switchInProgress}),this.eventBus.on("pagesloaded",function(e){n._isPagesLoaded=!!e.pagesCount})}return l(e,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');var n=this.initialized&&this.fingerprint!==e;this.fingerprint=e,this.initialized||this._bindEvents();var i=window.history.state;if(this.initialized=!0,this.initialBookmark=null,this.initialRotation=null,this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(i)||t){var o=a(this.linkService),s=o.hash,u=o.page,l=o.rotation;return!s||n||t?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:s,page:u,rotation:l},!0)}var c=i.destination;this._updateInternalState(c,i.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==c.rotation&&(this.initialRotation=c.rotation),c.dest?(this.initialBookmark=JSON.stringify(c.dest),this._destination.page=null):c.hash?this.initialBookmark=c.hash:c.page&&(this.initialBookmark="page="+c.page)}},{key:"push",value:function(e){var t=this,n=e.namedDest,i=e.explicitDest,r=e.pageNumber;if(this.initialized){if(n&&"string"!=typeof n||!Array.isArray(i)||!(Number.isInteger(r)&&r>0&&r<=this.linkService.pagesCount))return void console.error("PDFHistory.push: Invalid parameters.");var a=n||JSON.stringify(i);if(a){var u=!1;if(this._destination&&(o(this._destination.hash,a)||s(this._destination.dest,i))){if(this._destination.page)return;u=!0}this._popStateInProgress&&!u||(this._pushOrReplaceState({dest:i,hash:a,page:r,
rotation:this.linkService.rotation},u),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){t._popStateInProgress=!1})))}}}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t||!this._destination,i={fingerprint:this.fingerprint,uid:n?this._uid:this._uid+1,destination:e};this._updateInternalState(e,i.uid),n?window.history.replaceState(i,""):(this._maxUid=this._uid,window.history.pushState(i,""))}},{key:"_tryPushCurrentPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this._pushOrReplaceState(t);if(this._destination.temporary)return void this._pushOrReplaceState(t,!0);if(this._destination.hash!==t.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page===t.first||this._destination.page===t.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}}},{key:"_isValidState",value:function(e){return!!e&&(e.fingerprint===this.fingerprint&&(!(!Number.isInteger(e.uid)||e.uid<0)&&(null!==e.destination&&"object"===u(e.destination))))}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page="+n.pageNumber:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,i=r(),o=this._currentHash!==i;if(this._currentHash=i,!n){this._uid++;var s=a(this.linkService),u=s.hash,l=s.page,h=s.rotation;return void this._pushOrReplaceState({hash:u,page:l,rotation:h},!0)}if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){t._blockHashChange--}));var d=n.destination;this._updateInternalState(d,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,c.isValidRotation)(d.rotation)&&(this.linkService.rotation=d.rotation),d.dest?this.linkService.navigateTo(d.dest):d.hash?this.linkService.setHash(d.hash):d.page&&(this.linkService.page=d.page),Promise.resolve().then(function(){t._popStateInProgress=!1})}}},{key:"_bindEvents",value:function(){var e=this,t=this._boundEvents,n=this.eventBus;t.updateViewarea=this._updateViewarea.bind(this),t.popState=this._popState.bind(this),t.pageHide=function(t){e._destination&&!e._destination.temporary||e._tryPushCurrentPosition()},n.on("updateviewarea",t.updateViewarea),window.addEventListener("popstate",t.popState),window.addEventListener("pagehide",t.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||this._blockHashChange>0)}}]),e}();t.PDFHistory=d,t.isDestHashesEqual=o,t.isDestArraysEqual=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),o=n(2),s=n(9),u=n(18),l=n(19),c=l.viewerCompatibilityParams.maxCanvasPixels||16777216,h=function(){function e(t){i(this,e);var n=t.container,r=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||a.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:a.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||c,this.eventBus=t.eventBus||(0,s.getGlobalEventBus)(),this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||a.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||a.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this.error=null,this.onBeforeDraw=null,this.onAfterDraw=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var o=document.createElement("div");o.className="page",o.style.width=Math.floor(this.viewport.width)+"px",o.style.height=Math.floor(this.viewport.height)+"px",o.setAttribute("data-page-number",this.id),this.div=o,n.appendChild(o)}return r(e,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*a.CSS_UNITS,t),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t);var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var i=n.childNodes,r=e&&this.zoomLayer||null,a=t&&this.annotationLayer&&this.annotationLayer.div||null,o=i.length-1;o>=0;o--){var s=i[o];r!==s&&a!==s&&n.removeChild(s)}n.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),r||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){this.scale=e||this.scale,void 0!==t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.CSS_UNITS,rotation:n}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});var i=!1;if(this.canvas&&this.maxCanvasPixels>0){var r=this.outputScale;(Math.floor(this.viewport.width)*r.sx|0)*(Math.floor(this.viewport.height)*r.sy|0)>this.maxCanvasPixels&&(i=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&i)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.renderingState;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),t!==u.RenderingStates.INITIAL&&this.eventBus.dispatch("pagecancelled",{source:this,pageNumber:this.id,renderingState:t})}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,i=this.viewport.height,r=this.div;e.style.width=e.parentNode.style.width=r.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=r.style.height=Math.floor(i)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,o=Math.abs(a),s=1,u=1;90!==o&&270!==o||(s=i/n,u=n/i);var l="rotate("+a+"deg) scale("+s+","+u+")";if(e.style.transform=l,this.textLayer){var c=this.textLayer.viewport,h=this.viewport.rotation-c.rotation,d=Math.abs(h),f=n/c.width;90!==d&&270!==d||(f=n/c.height);var p=this.textLayer.textLayerDiv,v=void 0,g=void 0;switch(d){case 0:v=g=0;break;case 90:v=0,g="-"+p.style.height;break;case 180:v="-"+p.style.width,g="-"+p.style.height;break;case 270:v="-"+p.style.width,g=0;break;default:console.error("Bad rotation value.")}p.style.transform="rotate("+d+"deg) scale("+f+", "+f+") translate("+v+", "+g+")",p.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e=this;if(this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=u.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=u.RenderingStates.RUNNING;var t=this.pdfPage,n=this.div,i=document.createElement("div");i.style.width=n.style.width,i.style.height=n.style.height,i.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?n.insertBefore(i,this.annotationLayer.div):n.appendChild(i);var r=null;if(this.textLayerMode!==a.TextLayerMode.DISABLE&&this.textLayerFactory){var s=document.createElement("div");s.className="textLayer",s.style.width=i.style.width,s.style.height=i.style.height,this.annotationLayer&&this.annotationLayer.div?n.insertBefore(s,this.annotationLayer.div):n.appendChild(s),r=this.textLayerFactory.createTextLayerBuilder(s,this.id-1,this.viewport,this.textLayerMode===a.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=r;var l=null;this.renderingQueue&&(l=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=u.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=u.RenderingStates.RUNNING,t()});t()});var c=function(i){return h===e.paintTask&&(e.paintTask=null),i instanceof o.RenderingCancelledException?(e.error=null,Promise.resolve(void 0)):(e.renderingState=u.RenderingStates.FINISHED,e.loadingIconDiv&&(n.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.error=i,e.stats=t.stats,e.onAfterDraw&&e.onAfterDraw(),e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1}),i?Promise.reject(i):Promise.resolve(void 0))},h=this.renderer===a.RendererType.SVG?this.paintOnSvg(i):this.paintOnCanvas(i);h.onRenderContinue=l,this.paintTask=h;var d=h.promise.then(function(){return c(null).then(function(){if(r){var e=t.streamTextContent({normalizeWhitespace:!0});r.setTextContentStream(e),r.render()}})},function(e){return c(e)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(n,t,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),n.setAttribute("data-loaded",!0),this.onBeforeDraw&&this.onBeforeDraw(),d}},{key:"paintOnCanvas",value:function(e){var t=(0,o.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){y.cancel()}},i=this.viewport,r=document.createElement("canvas");r.id=this.renderingId,r.setAttribute("hidden","hidden");var s=!0,u=function(){s&&(r.removeAttribute("hidden"),s=!1)};e.appendChild(r),this.canvas=r,r.mozOpaque=!0;var l=r.getContext("2d",{alpha:!1}),c=(0,a.getOutputScale)(l);if(this.outputScale=c,this.useOnlyCssZoom){var h=i.clone({scale:a.CSS_UNITS});c.sx*=h.width/i.width,c.sy*=h.height/i.height,c.scaled=!0}if(this.maxCanvasPixels>0){var d=i.width*i.height,f=Math.sqrt(this.maxCanvasPixels/d);c.sx>f||c.sy>f?(c.sx=f,c.sy=f,c.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var p=(0,a.approximateFraction)(c.sx),v=(0,a.approximateFraction)(c.sy);r.width=(0,a.roundToDivide)(i.width*c.sx,p[0]),r.height=(0,a.roundToDivide)(i.height*c.sy,v[0]),r.style.width=(0,a.roundToDivide)(i.width,p[1])+"px",r.style.height=(0,a.roundToDivide)(i.height,v[1])+"px",this.paintedViewportMap.set(r,i);var g=c.scaled?[c.sx,0,0,c.sy,0,0]:null,m={canvasContext:l,transform:g,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},y=this.pdfPage.render(m);return y.onContinue=function(e){u(),n.onRenderContinue?n.onRenderContinue(e):e()},y.promise.then(function(){u(),t.resolve(void 0)},function(e){u(),t.reject(e)}),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,i=function(){if(n)throw new o.RenderingCancelledException("Rendering cancelled, page "+t.id,"svg")},r=this.pdfPage,s=this.viewport.clone({scale:a.CSS_UNITS});return{promise:r.getOperatorList().then(function(n){return i(),new o.SVGGraphics(r.commonObjs,r.objs).getSVG(n,s).then(function(n){i(),t.svg=n,t.paintedViewportMap.set(n,s),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=u.RenderingStates.FINISHED,e.appendChild(n)})}),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),e}();t.PDFPageView=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},o=function(){function e(){i(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return r(e,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var i=e.views,r=i.length;if(0===r)return!1;for(var a=0;a<r;++a){var o=i[a].view;if(!this.isViewFinished(o))return o}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var u=e.first.id-2;if(t[u]&&!this.isViewFinished(t[u]))return t[u]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===a.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case a.FINISHED:return!1;case a.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case a.RUNNING:this.highestPriorityPage=e.renderingId;break;case a.INITIAL:this.highestPriorityPage=e.renderingId;var n=function(){t.renderHighestPriority()};e.draw().then(n,n)}return!0}}]),e}();t.RenderingStates=a,t.PDFRenderingQueue=o},function(e,t,n){"use strict";var i=Object.create(null),r="undefined"!=typeof navigator&&navigator.userAgent||"",a=/Android/.test(r),o=/\b(iPad|iPhone|iPod)(?=;)/.test(r);!function(){(o||a)&&(i.maxCanvasPixels=5242880)}(),t.viewerCompatibilityParams=Object.freeze(i)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},u=n(21),l=n(3),c=n(2),h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventBus.on("pagesinit",function(e){n._ensurePageViewVisible()}),n}return a(t,e),o(t,[{key:"_resetView",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,n=e.pageDiv,i=e.pageSpot,r=void 0===i?null:i,a=e.pageNumber,o=void 0===a?null:a;o&&this._setCurrentPageNumber(o);var s=this._currentPageNumber>=this._previousPageNumber,u=this._location;this._ensurePageViewVisible(),(0,l.scrollIntoView)(n,r),this._updateScrollDown=function(){t.scroll.down=s,delete t._updateScrollDown},setTimeout(function(){t._location===u&&(t._updateScrollDown&&t._updateScrollDown(),t.update())},0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;0!==n&&(this._resizeBuffer(n),this.renderingQueue.renderHighestPriority(e),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,c.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,c.shadow)(this,"_isScrollModeHorizontal",!1)}}]),t}(u.BaseViewer);t.PDFSinglePageViewer=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=[];this.push=function(n){var i=t.indexOf(n);i>=0&&t.splice(i,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,i){if(e=n,i){for(var r=new Set,a=0,o=i.length;a<o;++a)r.add(i[a].id);(0,s.moveToEndOfArray)(t,function(e){return r.has(e.id)})}for(;t.length>e;)t.shift().destroy()}}function a(e,t){return t===e||Math.abs(t-e)<1e-15}Object.defineProperty(t,"__esModule",{value:!0}),t.SpreadMode=t.ScrollMode=t.BaseViewer=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(3),u=n(18),l=n(1),c=n(2),h=n(9),d=n(17),f=n(8),p=n(10),v={VERTICAL:0,HORIZONTAL:1,WRAPPED:2},g={NONE:0,ODD:1,EVEN:2},m=function(){function e(t){var n=this;if(i(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus||(0,h.getGlobalEventBus)(),this.linkService=t.linkService||new f.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:s.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||s.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||s.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new u.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,s.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=s.PresentationModeState.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){n.eventBus.dispatch("baseviewerinit",{source:n})})}return o(e,[{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return void(t&&this._resetCurrentPageView());if(!(0<e&&e<=this.pagesCount))return void console.error(this._name+'._setCurrentPageNumber: "'+e+'" is out of bounds.');var n={source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]};this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",n),this.eventBus.dispatch("pagechange",n),t&&this._resetCurrentPageView()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,i=(0,c.createPromiseCapability)();this.pagesPromise=i.promise,i.promise.then(function(){t._pageViewsReady=!0,t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})});var r=!1,a=(0,c.createPromiseCapability)();this.onePageRendered=a.promise;var o=function(e){e.onBeforeDraw=function(){t._buffer.push(e)},e.onAfterDraw=function(){r||(r=!0,a.resolve())}},u=e.getPage(1);this.firstPagePromise=u,u.then(function(r){for(var u=t.currentScale,l=r.getViewport(u*s.CSS_UNITS),c=1;c<=n;++c){var h=null;t.textLayerMode!==s.TextLayerMode.DISABLE&&(h=t);var f=new d.PDFPageView({container:t._setDocumentViewerElement,eventBus:t.eventBus,id:c,scale:u,defaultViewport:l.clone(),renderingQueue:t.renderingQueue,textLayerFactory:h,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n});o(f),t._pages.push(f)}t._spreadMode!==g.NONE&&t._updateSpreadMode(),a.promise.then(function(){if(e.loadingParams.disableAutoFetch)return void i.resolve();for(var r=n,a=1;a<=n;++a)!function(n){e.getPage(n).then(function(e){var a=t._pages[n-1];a.pdfPage||a.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0==--r&&i.resolve()},function(e){console.error("Unable to get page "+n+" to initialize viewer",e),0==--r&&i.resolve()})}(a)}),t.eventBus.dispatch("pagesinit",{source:t}),t.findController&&t.findController.setDocument(e),t.defaultRenderingQueue&&t.update()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var i=this._pages[t],r=this._pageLabels&&this._pageLabels[t];i.setPageLabel(r)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=s.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new r(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this._scrollMode=v.VERTICAL,this._spreadMode=g.NONE,this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){e.pageDiv,e.pageSpot,e.pageNumber;throw new Error("Not implemented: _scrollIntoView")}},{key:"_setScaleDispatchEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={source:this,scale:e,presetValue:n?t:void 0};this.eventBus.dispatch("scalechanging",i),this.eventBus.dispatch("scalechange",i)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),a(this._currentScale,e))return void(i&&this._setScaleDispatchEvent(e,t,!0));for(var r=0,o=this._pages.length;r<o;r++)this._pages[r].update(e);if(this._currentScale=e,!n){var s=this._currentPageNumber,u=void 0;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:u,allowNegativeOffset:!0})}this._setScaleDispatchEvent(e,t,i),this.defaultRenderingQueue&&this.update()}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var i=this._pages[this._currentPageNumber-1];if(!i)return;var r=this.isInPresentationMode||this.removePageBorders,a=r?0:s.SCROLLBAR_PADDING,o=r?0:s.VERTICAL_PADDING;if(!r&&this._isScrollModeHorizontal){var u=[o,a];a=u[0],o=u[1]}var l=(this.container.clientWidth-a)/i.width*i.scale,c=(this.container.clientHeight-o)/i.height*i.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=l;break;case"page-height":n=c;break;case"page-fit":n=Math.min(l,c);break;case"auto":var h=(0,s.isPortraitOrientation)(i)?l:Math.min(c,l);n=Math.min(s.MAX_AUTO_SCALE,h);break;default:return void console.error(this._name+'._setScale: "'+e+'" is an unknown zoom value.')}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var e=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:e.div})}},{key:"scrollPageIntoView",value:function(e){if(this.pdfDocument){var t=e.pageNumber||0,n=e.destArray||null,i=e.allowNegativeOffset||!1;if(this.isInPresentationMode||!n)return void this._setCurrentPageNumber(t,!0);var r=this._pages[t-1];if(!r)return void console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.');var a=0,o=0,u=0,l=0,c=void 0,h=void 0,d=r.rotation%180!=0,f=(d?r.height:r.width)/r.scale/s.CSS_UNITS,p=(d?r.width:r.height)/r.scale/s.CSS_UNITS,v=0;switch(n[1].name){case"XYZ":a=n[2],o=n[3],v=n[4],a=null!==a?a:0,o=null!==o?o:p;break;case"Fit":case"FitB":v="page-fit";break;case"FitH":case"FitBH":o=n[2],v="page-width",null===o&&this._location&&(a=this._location.left,o=this._location.top);break;case"FitV":case"FitBV":a=n[2],u=f,l=p,v="page-height";break;case"FitR":a=n[2],o=n[3],u=n[4]-a,l=n[5]-o;var g=this.removePageBorders?0:s.SCROLLBAR_PADDING,m=this.removePageBorders?0:s.VERTICAL_PADDING;c=(this.container.clientWidth-g)/u/s.CSS_UNITS,h=(this.container.clientHeight-m)/l/s.CSS_UNITS,v=Math.min(Math.abs(c),Math.abs(h));break;default:return void console.error(this._name+'.scrollPageIntoView: "'+n[1].name+'" is not a valid destination type.')}if(v&&v!==this._currentScale?this.currentScaleValue=v:this._currentScale===s.UNKNOWN_SCALE&&(this.currentScaleValue=s.DEFAULT_SCALE_VALUE),"page-fit"===v&&!n[4])return void this._scrollIntoView({pageDiv:r.div,pageNumber:t});var y=[r.viewport.convertToViewportPoint(a,o),r.viewport.convertToViewportPoint(a+u,o+l)],_=Math.min(y[0][0],y[1][0]),w=Math.min(y[0][1],y[1][1]);i||(_=Math.max(_,0),w=Math.max(w,0)),this._scrollIntoView({pageDiv:r.div,pageSpot:{left:_,top:w},pageNumber:t})}}},{key:"_resizeBuffer",value:function(e,t){var n=Math.max(10,2*e+1);this._buffer.resize(n,t)}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===t?Math.round(1e4*t)/100:n,r=e.id,a="#page="+r;a+="&zoom="+i;var o=this._pages[r-1],s=this.container,u=o.getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),l=Math.round(u[0]),c=Math.round(u[1]);a+=","+l+","+c,this._location={pageNumber:r,scale:i,top:c,left:l,rotation:this._pagesRotation,pdfOpenParams:a}}},{key:"update",value:function(){throw new Error("Not implemented: update")}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw new Error("Not implemented: _getVisiblePages")}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==u.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);var n=e.id;if(this._pagesRequests[n])return this._pagesRequests[n];var i=this.pdfDocument.getPage(n).then(function(i){return e.pdfPage||e.setPdfPage(i),t._pagesRequests[n]=null,i}).catch(function(e){console.error("Unable to get page for page view",e),t._pagesRequests[n]=null});return this._pagesRequests[n]=i,i}},{key:"forceRendering",value:function(e){
var t=this,n=e||this._getVisiblePages(),i=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,r=this.renderingQueue.getHighestPriority(n,this._pages,i);return!!r&&(this._ensurePdfPageLoaded(r).then(function(){t.renderingQueue.renderView(r)}),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new p.TextLayerBuilder({textLayerDiv:e,eventBus:this.eventBus,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.NullL10n;return new l.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:r})}},{key:"getPagesOverview",value:function(){var e=this._pages.map(function(e){var t=e.pdfPage.getViewport(1);return{width:t.width,height:t.height,rotation:t.rotation}});if(!this.enablePrintAutoRotate)return e;var t=(0,s.isPortraitOrientation)(e[0]);return e.map(function(e){return t===(0,s.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===v.HORIZONTAL),n.classList.toggle("scrollWrapped",t===v.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this.scrollPageIntoView({pageNumber:e}),this.update())}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===g.NONE)for(var i=0,r=n.length;i<r;++i)t.appendChild(n[i].div);else for(var a=this._spreadMode-1,o=null,s=0,u=n.length;s<u;++s)null===o?(o=document.createElement("div"),o.className="spread",t.appendChild(o)):s%2===a&&(o=o.cloneNode(!1),t.appendChild(o)),o.appendChild(n[s].div);e&&(this.scrollPageIntoView({pageNumber:e}),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(e,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this.currentPageNumber=t}},{key:"currentScale",get:function(){return this._currentScale!==s.UNKNOWN_SCALE?this._currentScale:s.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,s.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,i=this._pages.length;n<i;n++){var r=this._pages[n];r.update(r.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw new Error("Not implemented: _setDocumentViewerElement")}},{key:"_isScrollModeHorizontal",get:function(){throw new Error("Not implemented: _isScrollModeHorizontal")}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===s.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===s.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!Number.isInteger(e)||!Object.values(v).includes(e))throw new Error("Invalid scroll mode: "+e);this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!Number.isInteger(e)||!Object.values(g).includes(e))throw new Error("Invalid spread mode: "+e);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}}]),e}();t.BaseViewer=m,t.ScrollMode=v,t.SpreadMode=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(21),u=n(3),l=n(2),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,i=void 0===n?null:n;if(!i&&!this.isInPresentationMode){var r=t.offsetLeft+t.clientLeft,a=r+t.clientWidth,o=this.container,l=o.scrollLeft,c=o.clientWidth;(this._scrollMode===s.ScrollMode.HORIZONTAL||r<l||a>l+c)&&(i={left:0,top:0})}(0,u.scrollIntoView)(t,i)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,u.getVisibleElements)(this.container,this._pages,!0,this._scrollMode===s.ScrollMode.HORIZONTAL);var e=this._pages[this._currentPageNumber-1];return{first:e,last:e,views:[{id:e.id,view:e}]}}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){this._resizeBuffer(n,t),this.renderingQueue.renderHighestPriority(e);for(var i=this._currentPageNumber,r=!1,a=0;a<n;++a){var o=t[a];if(o.percent<100)break;if(o.id===i){r=!0;break}}r||(i=t[0].id),this.isInPresentationMode||this._setCurrentPageNumber(i),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,l.shadow)(this,"_setDocumentViewerElement",this.viewer)}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===s.ScrollMode.HORIZONTAL}}]),t}(s.BaseViewer);t.PDFViewer=c}])});